package fr.xmalware.badblock.docker.rabbit.objects;

import com.google.gson.annotations.Expose;

import fr.xmalware.badblock.docker.config.OpenConfiguration;
import fr.xmalware.badblock.docker.config.PowerConfiguration;
import fr.xmalware.badblock.docker.dockers.Docker;
import fr.xmalware.badblock.docker.dockers.LocalDocker;
import fr.xmalware.badblock.docker.dockers.LocalDockerData;
import fr.xmalware.badblock.docker.personaldata.IdCard;
import fr.xmalware.badblock.docker.personaldata.ServerStatus;
import lombok.AllArgsConstructor;
import lombok.Getter;

@AllArgsConstructor
@Getter
public class KeepAlive
{

	@Expose
	private IdCard								idCard;
	@Expose
	private ServerStatus						status;
	@Expose
	private LocalDockerData				data;
	@Expose
	private long									lifeTime;
	@Expose
	private PowerConfiguration		power;
	@Expose
	private OpenConfiguration		open;
	
	public KeepAlive(Docker docker)
	{
		this.idCard = docker.getIdCard();
		this.status = new ServerStatus();
		this.data = LocalDocker.getInstance().getData();
		this.lifeTime = System.currentTimeMillis() + 30000;
		this.power = docker.getConfig().getPower();
		this.open = docker.getConfig().getOpen();
	}
	
}